<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
</head>
<body>
    {% extends 'admin/base_site.html' %}

    {% block title %}
    Order {{ order.id }} {{ block.super }}
    {% endblock %}

    {% block breadcrumbs %}
    <!--to create a custom administration view-->
        <div class="breadcrumbs">
            <a href="{% url 'admin:index' %}">Home</a> &rsaquo;
            <a href="{% url 'admin:orders_order_changelist' %}">Orders</a> &rsaquo;
            <a href="{% url 'admin:orders_order_change' order.id %}">Order</a> &rsaquo; Detail
        </div>
    {% endblock %}

    {% block content %}
        <h1>Order No: #{{ order.id }}</h1>
        <ul class="object-tools">
            <li>
                <a href="#" onclick="window.print();">Print order</a>
            </li>
        </ul>

        <table width="50%" border="2px" bgcolor="cyan">
            <tr>
                <th align="left">Created</th>
                <td>{{ order.created }}</td>
            </tr>
            <tr>
                <th align="left">Customer</th>
                <td>{{ order.first_name }} {{ order.last_name }}</td>
            </tr>
            <tr>
                <th align="left">E-mail</th>
                <td><a href="mailto:{{ order.email }}">{{ order.email }}</a></td>
            </tr>
            <tr>
                <th align="left">Address</th>
                <td>
                    {{ order.address }}
                    {{ order.postal_code }} {{ order.city }}
                </td>
            </tr>
            <tr>
                <th align="left">Total Amount</th>
                <td>${{ order.get_total_cost }}</td>
            </tr>
            <tr>
                <th align="left">Status</th>
                <td>{% if order.paid %}Paid{% else %}Pending Payment{% endif %}</td>
            </tr>
        </table>

        <div class="module">
            <h2>Items bought</h2>
            <table style="width:100%" border="2px" bgcolor="sky-blue">
                <thead>
                <tr>
                    <th>Product</th>
                    <th>Price</th>
                    <th>Quantity</th>
                    <th>Total</th>
                </tr>
                </thead>

                <tbody>
                    {% for item in order.items.all %}
                        <tr class="row{% cycle '1' '2' %}" align="center">
                            <td>{{ item.product.name }}</td>
                            <td class="num">${{ item.price }}</td>
                            <td class="num">{{ item.quantity }}</td>
                            <td class="num">${{ item.get_cost }}</td>
                        </tr>
                    {% endfor %}

                    <tr class="total" align="center">
                        <td colspan="3" bgcolor="red">Total</td>
                        <td class="num">${{ order.get_total_cost }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    {% endblock %}

    <!--You can find all administration templates at
    https://github.com/django/django/tree/3.0/django/contrib/admin/templates/admin.-->
</body>
</html>